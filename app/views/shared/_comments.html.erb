<div id="comment-container">
  <div id="comment-container-header">
    <h3><%= t(".comments_header") %></h3>
  </div>
  <% if subject.comments.empty? %>
    <p class="no-comments"><%= t(".no_comments_yet") %>
  <% else %>
    <%# We manually include the user of the comment to prevent an N+1 %>
    <% subject.comments.includes(:user).order('created_at ASC').each do |comment| %>
      <div class="comment">

        <%# Username, with link to user page, and "commented [time value] ago". %>
        <div class="user-comment-info">
          <%= link_to comment.user.name, comment.user %> commented 
          <%= time_ago_in_words(comment.created_at) %> ago
        </div>

        <%# Comment body, the text in the comment itself. %>
        <div class="comment-body">
          <%= comment.body %>
        </div>

      </div>
    <% end %>
  <% end %>

  <%# New comment section, only appears for users who are signed-in. %>
  <% if user_signed_in? %>
    <%= form_tag(url, {class: "comment_form"}) do %>
      <%= text_area(:comment, :body, class: 'new-comment') %>

      <%= submit_tag t(".submit") %>
    <% end %>
  <% end %>
</div>
